(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35085,e=>{"use strict";var t=e.i(57595),a=e.i(67556);function s(){let[e,s]=(0,a.useState)([]),[l,n]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[d,o]=(0,a.useState)("idle"),[c,u]=(0,a.useState)({title:"",event:"",date:"",location:"",type:"talk"}),[p,g]=(0,a.useState)({title:"",journal:"",date:"",authors:"",link:""}),[h,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/speaking-publications"),t=await e.json();s(t.speakingEngagements||[]),n(t.publications||[])}catch(e){console.error("Error fetching data:",e)}finally{i(!1)}},v=async t=>{t.preventDefault(),o("saving");try{if(!(await fetch("/api/speaking-publications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({speakingEngagements:e,publications:l})})).ok)throw Error("Failed to save");o("success"),setTimeout(()=>o("idle"),3e3)}catch(e){console.error("Error saving data:",e),o("error"),setTimeout(()=>o("idle"),3e3)}};return r?(0,t.jsx)("div",{className:"p-8",children:"Loading..."}):(0,t.jsxs)("div",{className:"p-8 max-w-6xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Speaking & Publications Management"}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Speaking Engagements"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsx)("input",{type:"text",placeholder:"Title",className:"p-2 bg-gray-700 rounded",value:c.title,onChange:e=>u({...c,title:e.target.value})}),(0,t.jsx)("input",{type:"text",placeholder:"Event",className:"p-2 bg-gray-700 rounded",value:c.event,onChange:e=>u({...c,event:e.target.value})}),(0,t.jsx)("input",{type:"text",placeholder:"Date (e.g., January 2024)",className:"p-2 bg-gray-700 rounded",value:c.date,onChange:e=>u({...c,date:e.target.value})}),(0,t.jsx)("input",{type:"text",placeholder:"Location",className:"p-2 bg-gray-700 rounded",value:c.location,onChange:e=>u({...c,location:e.target.value})}),(0,t.jsxs)("select",{className:"p-2 bg-gray-700 rounded",value:c.type,onChange:e=>u({...c,type:e.target.value}),children:[(0,t.jsx)("option",{value:"talk",children:"Talk"}),(0,t.jsx)("option",{value:"workshop",children:"Workshop"}),(0,t.jsx)("option",{value:"panel",children:"Panel"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{s([...e,{...c,id:Date.now()}]),u({title:"",event:"",date:"",location:"",type:"talk"})},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded font-medium",children:"Add Engagement"})]}),(0,t.jsx)("div",{className:"space-y-4",children:e.map(a=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-700 rounded",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:a.title}),(0,t.jsxs)("p",{className:"text-sm text-gray-300",children:[a.event," • ",a.date]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=a.id,void s(e.filter(e=>e.id!==t))},className:"text-red-400 hover:text-red-300",children:"Remove"})]},a.id))})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Publications"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsx)("input",{type:"text",placeholder:"Title",className:"p-2 bg-gray-700 rounded",value:p.title,onChange:e=>g({...p,title:e.target.value})}),(0,t.jsx)("input",{type:"text",placeholder:"Journal/Conference",className:"p-2 bg-gray-700 rounded",value:p.journal,onChange:e=>g({...p,journal:e.target.value})}),(0,t.jsx)("input",{type:"text",placeholder:"Date (e.g., 2024)",className:"p-2 bg-gray-700 rounded",value:p.date,onChange:e=>g({...p,date:e.target.value})}),(0,t.jsx)("input",{type:"text",placeholder:"Authors",className:"p-2 bg-gray-700 rounded",value:p.authors,onChange:e=>g({...p,authors:e.target.value})}),(0,t.jsx)("input",{type:"url",placeholder:"Link to publication",className:"p-2 bg-gray-700 rounded md:col-span-2",value:p.link,onChange:e=>g({...p,link:e.target.value})}),(0,t.jsx)("button",{type:"button",onClick:()=>{n([...l,{...p,id:Date.now()}]),g({title:"",journal:"",date:"",authors:"",link:""})},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded font-medium md:col-span-2",children:"Add Publication"})]}),(0,t.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-700 rounded",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-gray-300",children:[e.journal," • ",e.date]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.id,void n(l.filter(e=>e.id!==t))},className:"text-red-400 hover:text-red-300",children:"Remove"})]},e.id))})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:["saving"===d&&(0,t.jsx)("span",{className:"text-yellow-400",children:"Saving..."}),"success"===d&&(0,t.jsx)("span",{className:"text-green-400",children:"Saved successfully!"}),"error"===d&&(0,t.jsx)("span",{className:"text-red-400",children:"Error saving. Please try again."})]}),(0,t.jsx)("button",{type:"submit",className:"px-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-medium",disabled:"saving"===d,children:"Save All Changes"})]})]})]})}e.s(["default",()=>s])}]);